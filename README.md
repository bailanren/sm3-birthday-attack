# sm3-birthday-attack  
*生日攻击原理*  
生日攻击原理介绍中需要引入抗碰撞性这一概念。  
抗碰撞性：找到任意两个不同的x1,x2使h(x1)=h(x2)是困难的(计算不可行)  
弱抗碰撞性：当给定某个消息的散列值时，单向散列函数必须确保要找到和该条消息具有相同散列值的另外一条消息是非常困难的。  
强抗碰撞性：要找打散列值相同的两条不同的消息是非常困难的。
根据生日悖论，可以将其用在碰撞上，得到不同消息有相同的tag。  
假设取样次数为N，M（M1~MN），取值在tag(1~B)中，并假设分布随机均匀相互独立。取样次数n与B的关系为n=1.2 * B^0.5(这是生日悖论中最坏的情况)  
证明:M2不等于M1的概率为(B-1)/B,同理M3为(M-2)/M……Mn为(B-n+1)/B。因此其中有碰撞的概率为:1-（1-1/B）(1-2/B）.....(1-(k-1)/B）>= (1-e)^(-n^2/2B)   
因此n=1.2* B^0.5，因此(1-e)^(-n^2/2B)=1-e^-0.72=0.53>50%   
所以，我们只需要2^(n/2)次寻找，就有50%概率能够找到相同tag的不同消息。
*SM3实现*  
